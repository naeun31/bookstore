<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>admin</title>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css">
    <!--<link rel="stylesheet" href="../fonts/xeicon/xeicon.css">-->
    <link rel="stylesheet" href="../lib/bootstrap-4.2.1/css/bootstrap.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="wrap">
        <div class="header">
            <h2><b>B</b>ookStore <span>도서관리</span></h2>
        </div>
        <div class="inner">
            <div class="row cont">
                <div class="col-md-12 col-lg-8">
                    <div class="list-head clear">
                        <div class="toolbar clear">
                            <div>
                                <select name="" id="searchOpt">
                                    <option value="callNum">서가번호</option>
                                    <option value="title">도서명</option>
                                </select>
                            </div>
                            <div>
                                <input type="text" id="keyword">
                            </div>
                            <div>
                                <button id="search"><i class="xi-search"></i></button>
                            </div>
                        </div>
                        <div class="btn-box">
                            <button type="button" id="showModal" class="btn btn-dark" data-toggle="modal" data-target="#add">등록</button>
                            <button type="button" class="btn btn-secondary">삭제</button>
                        </div>
                    </div>
                    <div class="list bg-color">
                        <ul class="">
                            <li>
                                <div class="tbl thead">
                                    <div>
                                        <div class="form-chk">
                                            <input type="checkbox" name="" id="">
                                        </div>
                                    </div>
                                    <div>제목</div>
                                    <div>저자</div>
                                    <div>가격</div>
                                </div>
                            </li>
                        </ul>
                        <ul id="searchList">
                            <li>
                                <a href="javascript:void(0)" class="tbl tbody">
                                    <div class="text-center">검색결과가 없습니다.</div>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class=" col-md-12 col-lg-4">
                    <div class="detail bg-color">
                        <div class="form-box">
                            <label for="">제목</label>
                            <input type="text" value="돈의 속성 (200쇄 리커버 에디션, 양장)"/>
                        </div>
                        <div class="row">
                            <div class="col-md-8 col-sm-7">
                                <div class="form-box">
                                    <label for="">barcode</label>
                                    <input type="text" value="9791188331796">
                                </div>
                                <div class="form-box">
                                    <label for="">저자</label>
                                    <input type="text" value="김승호 (지은이)">
                                </div>
                                <div class="form-box">
                                    <label for="">출판사</label>
                                    <input type="text" value="스노우폭스북스">
                                </div>
                                <div class="form-box">
                                    <label for="">정가</label>
                                    <input type="text" value="18,000원">
                                </div>
                                <div class="form-box">
                                    <label for="">서가번호</label>
                                    <input type="text" value="A101,C101">
                                </div>
                            </div>
                            <div class="col-md-4 col-sm-5">
                                <div class="form-box">
                                    <div class="img-box">
                                        <label for="">이미지</label>
                                        <img src="https:\/\/image.aladin.co.kr\/product\/28884\/59\/cover200\/k962836509_3.jpg" width=""/>
                                        <!-- <div class="err-img">
                                            <div>
                                                <i class="xi-image-o"></i>
                                                <p>Image Not Found</p>
                                                
                                            </div>
                                        </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title"><input type="text" id="callNum" class="form-control" placeholder="서가번호"></h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <textarea name="" id="" cols="30" rows="10" class="form-control"></textarea>
                </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-dark">등록</button>
            </div>
          </div>
        </div>
      </div>
    <script src="../lib/bootstrap-4.2.1/js/jquery-3.5.1.min.js"></script>
    <script src="../lib/bootstrap-4.2.1/js/bootstrap.min.js"></script>
    <script>
        let json = [{
            barcode:'9791188331796',
            image:'https://shopping-phinf.pstatic.net/main_324409',
            title:'돈의 속성 (200쇄 리커버 에디션, 양장)',
            category2:'경제/경영',
            publish:'승호',
            author:'승호',
            published_date:'2020.06.15.',
            price:'1,000'
        },
        {
            barcode:'9791188331796',
            image:'https://shopping-phinf.pstatic.net/main_324555',
            title:'공중그네',
            category2:'경제/경영',
            publish:'오쿠다 히데오',
            author:'오쿠다 히데오',
            published_date:'2020.06.15.',
            price:'1,000'
        },
        {
            barcode:'9791188331796',
            image:'https://shopping-phinf.pstatic.net/main_324452',
            title:'돈의 속성2 (200쇄 리커버 에디션, 양장)',
            category2:'경제/경영',
            publish:'기시미 이치로',
            author:'기시미 이치로',
            published_date:'2020.06.15.',
            price:'1,000'
        }]
        function App() {
            App.books = [];
            const addBook = function() {
                const $searchOpt = $('#searchOpt').val();
                const $keyword = $('#keyword').val();
            }
            const searchList = function() {
                if(!$('#keyword').val().replace(/\s/gi, "")) {
                    alert('검색어를 입력해주세요');
                    return;
                }
                App.books.push(json);
                $("#searchList").empty();
                template(App.books[0], "#searchList");
            }

            const template = function(items, el) {
                let $li;
                for (item of items) {
                    $li = `<li>
                            <a href="javascript:void(0)" class="tbl tbody">
                                <div>
                                    <div class="form-chk">
                                        <input type="checkbox" name="" id="">
                                    </div>
                                </div>
                                <div>${item.title}</div>
                                <div class="text-center">${item.author}</div>
                                <div class="text-center">${item.price}</div>
                            </a>
                        </li>`
                    $(el).append($li);
                }
            }
            
            $("#showModal").on("click", function(){
                const $keyword = $("#keyword").val();
                const $searchOpt = $("#searchOpt").val();
                if($searchOpt === "callNum") {
                    $("#callNum").val($keyword);
                }
            })
            $("#search").on("click", searchList);
            $("#keyword").on("keypress", function(e){
                const $keyword = $("#keyword").val();
                if(e.key !== "Enter") {
                    return;
                }
                searchList();
            })
        }
        const app = new App();
        
    </script>
</body>
</html>